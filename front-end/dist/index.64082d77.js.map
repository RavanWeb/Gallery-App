{"mappings":"ACAA,MAAM,EAAU,EAAE,YAAa,EAAU,EAAE,QAAS,EAAY,EAAE,eAAe,EAAS,EAAE,cAG5F,EAAU,GAAG,QAAS,KAClB,EAAQ,YAAY,SACxB,GAEA,EAAQ,GAAG,QAAS,AAAC,IACb,EAAE,SAAW,CAAO,CAAC,EAAE,EAAE,EAAQ,SAAS,SAClD,GAEA,EAAE,UAAU,GAAG,UAAW,AAAC,IACT,WAAV,EAAE,KAAqB,EAAQ,SAAS,WAAW,EAAQ,SAAS,SAC5E,GAEA,EAAQ,GAAG,WAAY,AAAC,GAAM,EAAE,kBAEhC,EAAQ,GAAG,OAAQ,AAAC,GAAM,EAAE,kBAE5B,EAAS,GAAG,WAAW,AAAC,IACpB,EAAE,gBACN,GAEA,EAAS,GAAG,OAAO,AAAC,IAChB,EAAE,iBACF,IAAM,EAAe,EAAE,cAAc,aAAa,MAC5C,EAAa,MAAM,KAAK,GAAc,OAAO,AAAA,GAAQ,EAAK,KAAK,WAAW,UAC3E,CAAA,EAAW,SAChB,EAAQ,SAAS,UACjB,AAOJ,SAAsB,CAAU,EAC5B,IAAM,EAAW,IAAI,SACrB,EAAW,QAAQ,AAAA,IACf,IAAM,EAAY,EAAE,oCACpB,EAAU,OAvCG,gFAwCb,EAAQ,OAAO,GAEf,EAAS,OAAO,SAAU,EAC9B,GACA,IAAM,EAAQ,EAAE,KAAK,uCAAuC,CACxD,OAAQ,OACR,KAAM,EACN,YAAa,CAAA,EACb,YAAa,CAAA,CAGjB,GACA,EAAM,KAAK,AAAC,IACR,EAAa,QAAQ,AAAC,IAClB,IAAM,EAAS,EAAE,iBAAiB,QAClC,EAAO,IAAI,mBAAoB,CAAC,IAAI,EAAE,EAAS,CAAC,CAAC,EACjD,EAAO,QACP,EAAO,YAAY,SAEvB,EACJ,GACA,EAAM,OAAO,IAAM,EAAE,iBAAiB,UACtC,EAAM,KAAK,KAAK,EAGpB,EArCiB,GACjB,GAEA,EAAQ,GAAG,QAAQ,sBAAsB,AAAC,IACtC,EAAE,OAAO,mBACb,GAkCA,AAEA,WAEI,IAAM,EAAQ,EAAE,KAAK,wCACrB,EAAM,KAAK,AAAC,IACR,EAAa,QAAQ,AAAA,IACjB,IAAM,EAAQ,EAAE,6BAChB,EAAM,IAAI,mBAAoB,CAAC,IAAI,EAAE,EAAS,CAAC,CAAC,EAChD,EAAE,QAAQ,OAAO,EACrB,EAGJ,GACA,EAAM,KAAK,KACP,MAAM,wBACV,EACJ","sources":["<anon>","src/js/app.js"],"sourcesContent":["var $388b617130f03bd4$exports = {};\nconst $388b617130f03bd4$var$overlay = $(\"#overlay\"), $388b617130f03bd4$var$mainElm = $(\"main\"), $388b617130f03bd4$var$btnUpload = $(\"#btn-upload\"), $388b617130f03bd4$var$dropZone = $(\"#drop-zone\");\nconst $388b617130f03bd4$var$cssLoaderHtml = `<div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>`;\n$388b617130f03bd4$var$btnUpload.on(\"click\", ()=>{\n    $388b617130f03bd4$var$overlay.removeClass(\"d-none\");\n});\n$388b617130f03bd4$var$overlay.on(\"click\", (e)=>{\n    if (e.target === $388b617130f03bd4$var$overlay[0]) $388b617130f03bd4$var$overlay.addClass(\"d-none\");\n});\n$(document).on(\"keydown\", (e)=>{\n    if (e.key === \"Escape\" && !$388b617130f03bd4$var$overlay.hasClass(\"d-none\")) $388b617130f03bd4$var$overlay.addClass(\"d-none\");\n});\n$388b617130f03bd4$var$overlay.on(\"dragover\", (e)=>e.preventDefault());\n$388b617130f03bd4$var$overlay.on(\"drop\", (e)=>e.preventDefault());\n$388b617130f03bd4$var$dropZone.on(\"dragover\", (e)=>{\n    e.preventDefault();\n});\n$388b617130f03bd4$var$dropZone.on(\"drop\", (e)=>{\n    e.preventDefault();\n    const droppedFiles = e.originalEvent.dataTransfer.files;\n    const imageFiles = Array.from(droppedFiles).filter((file)=>file.type.startsWith(\"image/\"));\n    if (!imageFiles.length) return;\n    $388b617130f03bd4$var$overlay.addClass(\"d-none\");\n    $388b617130f03bd4$var$uploadImages(imageFiles);\n});\n$388b617130f03bd4$var$mainElm.on(\"click\", \".image:not(.loader)\", (e)=>{\n    e.target.requestFullscreen();\n});\nfunction $388b617130f03bd4$var$uploadImages(imageFiles) {\n    const formData = new FormData();\n    imageFiles.forEach((imageFile)=>{\n        const imgDivElm = $(`<div class=\"image loader\"></div>`);\n        imgDivElm.append($388b617130f03bd4$var$cssLoaderHtml);\n        $388b617130f03bd4$var$mainElm.append(imgDivElm);\n        formData.append(\"images\", imageFile);\n    });\n    const jqxhr = $.ajax(\"http://localhost:8080/gallery/images\", {\n        method: \"POST\",\n        data: formData,\n        contentType: false,\n        processData: false\n    });\n    jqxhr.done((imageUrlList)=>{\n        imageUrlList.forEach((imageUrl)=>{\n            const divElm = $(\".image.loader\").first();\n            divElm.css(\"background-image\", `url(${imageUrl})`);\n            divElm.empty();\n            divElm.removeClass(\"loader\");\n        });\n    });\n    jqxhr.always(()=>$(\".image.loader\").remove());\n    jqxhr.fail(()=>{});\n}\n$388b617130f03bd4$var$loadAllImages();\nfunction $388b617130f03bd4$var$loadAllImages() {\n    const jqxhr = $.ajax(\"http://localhost:8080/gallery/images\");\n    jqxhr.done((imageUrlList)=>{\n        imageUrlList.forEach((imageUrl)=>{\n            const image = $(`<div class=\"image\"></div>`);\n            image.css(\"background-image\", `url(${imageUrl})`);\n            $(\"main\").append(image);\n        });\n    });\n    jqxhr.fail(()=>{\n        alert(\"Failed to load Images\");\n    });\n}\n\n\n//# sourceMappingURL=index.64082d77.js.map\n","const overlay = $(\"#overlay\"), mainElm = $('main'), btnUpload = $(\"#btn-upload\"),dropZone=$('#drop-zone');\nconst cssLoaderHtml =`<div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>`;\n\nbtnUpload.on(\"click\", () => {\n    overlay.removeClass(\"d-none\")\n});\n\noverlay.on(\"click\", (e) => {\n    if (e.target === overlay[0]) overlay.addClass(\"d-none\");\n})\n\n$(document).on(\"keydown\", (e) => {\n    if (e.key === \"Escape\" && !overlay.hasClass(\"d-none\")) overlay.addClass(\"d-none\")\n})\n\noverlay.on('dragover', (e) => e.preventDefault());\n\noverlay.on('drop', (e) => e.preventDefault());\n\ndropZone.on('dragover',(e)=>{\n    e.preventDefault();\n})\n\ndropZone.on('drop',(e)=>{\n    e.preventDefault();\n    const droppedFiles = e.originalEvent.dataTransfer.files;\n    const imageFiles = Array.from(droppedFiles).filter(file => file.type.startsWith(\"image/\"));\n    if (!imageFiles.length) return;\n    overlay.addClass('d-none');\n    uploadImages(imageFiles);\n})\n\nmainElm.on('click','.image:not(.loader)',(e)=>{\n    e.target.requestFullscreen();\n})\n\nfunction uploadImages(imageFiles){\n    const formData = new FormData();\n    imageFiles.forEach(imageFile=>{\n        const imgDivElm = $(`<div class=\"image loader\"></div>`);\n        imgDivElm.append(cssLoaderHtml);\n        mainElm.append(imgDivElm);\n\n        formData.append(\"images\", imageFile);\n    })\n    const jqxhr = $.ajax(\"http://localhost:8080/gallery/images\",{\n        method: 'POST',\n        data: formData,\n        contentType: false,\n        processData: false,\n\n\n    });\n    jqxhr.done((imageUrlList)=>{\n        imageUrlList.forEach((imageUrl)=>{\n            const divElm = $('.image.loader').first();\n            divElm.css('background-image', `url(${imageUrl})`);\n            divElm.empty();\n            divElm.removeClass('loader');\n\n        })\n    });\n    jqxhr.always(() => $('.image.loader').remove());\n    jqxhr.fail(()=>{});\n\n\n}\n\nloadAllImages();\n\nfunction loadAllImages() {\n\n    const jqxhr = $.ajax(\"http://localhost:8080/gallery/images\");\n    jqxhr.done((imageUrlList) => {\n        imageUrlList.forEach(imageUrl => {\n            const image = $(`<div class=\"image\"></div>`);\n            image.css(\"background-image\", `url(${imageUrl})`);\n            $('main').append(image);\n        })\n\n\n    });\n    jqxhr.fail(() => {\n        alert(\"Failed to load Images\");\n    })\n}\n\n\n"],"names":["$388b617130f03bd4$var$overlay","$","$388b617130f03bd4$var$mainElm","$388b617130f03bd4$var$btnUpload","$388b617130f03bd4$var$dropZone","on","removeClass","e","target","addClass","document","key","hasClass","preventDefault","droppedFiles","originalEvent","dataTransfer","files","imageFiles","Array","from","filter","file","type","startsWith","length","$388b617130f03bd4$var$uploadImages","formData","FormData","forEach","imageFile","imgDivElm","append","jqxhr","ajax","method","data","contentType","processData","done","imageUrlList","imageUrl","divElm","first","css","empty","always","remove","fail","requestFullscreen","$388b617130f03bd4$var$loadAllImages","image","alert"],"version":3,"file":"index.64082d77.js.map"}